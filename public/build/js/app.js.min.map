{"version":3,"sources":["app.js"],"names":["paso","pasoInicial","pasoFinal","cita","id","nombre","fecha","hora","servicios","iniciarApp","mostrarSeccion","tabs","botonesPaginador","paginaSiguiente","paginaAnterior","consultarAPI","idCliente","nombreCliente","seleccionarFecha","seleccionarHora","seccionAnterior","document","querySelector","classList","remove","pasoSelector","add","tabAnterior","querySelectorAll","forEach","boton","addEventListener","e","parseInt","target","dataset","mostrarResumen","async","url","location","origin","resultado","fetch","mostrarServicios","json","error","console","log","servicio","precio","nombreServicio","createElement","textContent","precioServicio","servicioDiv","idServicio","onclick","seleccionarServicio","appendChild","divServicio","some","agregado","filter","value","inputFecha","dia","Date","getUTCDay","includes","mostrarAlerta","split","mensaje","tipo","elemento","desaparece","alertaPrevia","alerta","setTimeout","resumen","firstChild","removeChild","length","Object","values","headingServicios","contenedorServicio","textoServicio","innerHTML","headingCita","fechaObj","mes","getMonth","getDate","year","getFullYear","fechaFormateada","UTC","toLocaleDateString","weekday","month","day","fechaCita","horaCita","botonReserver","reservarCita","idServicios","map","datos","FormData","append","respuesta","method","body","Swal","fire","icon","title","text","button","then","window","reload"],"mappings":"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","file":"app.js","sourcesContent":["let paso = 1;\r\nconst pasoInicial = 1;\r\nconst pasoFinal = 3;\r\n\r\nconst cita = {\r\n  id: \"\",\r\n  nombre: \"\",\r\n  fecha: \"\",\r\n  hora: \"\",\r\n  servicios: [],\r\n};\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n  iniciarApp();\r\n});\r\n\r\nfunction iniciarApp() {\r\n  // alert('Prueba');\r\n  mostrarSeccion(); // Muestra y oculta las secciones\r\n  tabs(); // Cambia la sección cuando se presionen los tabs\r\n  botonesPaginador(); // Agrega o quita los botones del paginador\r\n  paginaSiguiente();\r\n  paginaAnterior();\r\n\r\n  consultarAPI(); // Consulta la API en el backend de PHP\r\n\r\n  idCliente();\r\n  nombreCliente(); // Añade el nombre del cliente al objeto de cita\r\n  seleccionarFecha(); // Añade la fecha de la cita en el objeto\r\n  seleccionarHora(); // Añade la hora de la cita en el objeto\r\n\r\n  // mostrarResumen(); // Muestra el resumen de la cita\r\n}\r\n\r\nfunction mostrarSeccion() {\r\n  // Ocultar las sección que tenga la clase de mostrar\r\n  const seccionAnterior = document.querySelector(\".mostrar\");\r\n  if (seccionAnterior) {\r\n    seccionAnterior.classList.remove(\"mostrar\");\r\n  }\r\n\r\n  // Seleccionar la seccion con el paso...\r\n  const pasoSelector = `#paso-${paso}`;\r\n  const seccion = document.querySelector(pasoSelector);\r\n  seccion.classList.add(\"mostrar\");\r\n\r\n  // Quita la clase de actual al tab anterior\r\n  const tabAnterior = document.querySelector(\".actual\");\r\n  if (tabAnterior) {\r\n    tabAnterior.classList.remove(\"actual\");\r\n  }\r\n\r\n  // Resalta el tab actual\r\n  const tab = document.querySelector(`[data-paso=\"${paso}\"]`);\r\n  tab.classList.add(\"actual\");\r\n}\r\n\r\nfunction tabs() {\r\n  const botones = document.querySelectorAll(\".tabs button\");\r\n\r\n  botones.forEach((boton) => {\r\n    boton.addEventListener(\"click\", function (e) {\r\n      paso = parseInt(e.target.dataset.paso);\r\n      mostrarSeccion();\r\n      botonesPaginador();\r\n    });\r\n  });\r\n}\r\n\r\nfunction botonesPaginador() {\r\n  const paginaAnterior = document.querySelector(\"#anterior\");\r\n  const paginaSiguiente = document.querySelector(\"#siguiente\");\r\n\r\n  if (paso === 1) {\r\n    paginaAnterior.classList.add(\"ocultar\");\r\n    paginaSiguiente.classList.remove(\"ocultar\");\r\n  } else if (paso === 3) {\r\n    paginaAnterior.classList.remove(\"ocultar\");\r\n    paginaSiguiente.classList.add(\"ocultar\");\r\n\r\n    mostrarResumen();\r\n  } else {\r\n    paginaAnterior.classList.remove(\"ocultar\");\r\n    paginaSiguiente.classList.remove(\"ocultar\");\r\n  }\r\n\r\n  mostrarSeccion();\r\n}\r\n\r\nfunction paginaAnterior() {\r\n  const paginaAnterior = document.querySelector(\"#anterior\");\r\n  paginaAnterior.addEventListener(\"click\", function () {\r\n    if (paso <= pasoInicial) return;\r\n    paso--;\r\n    botonesPaginador();\r\n  });\r\n}\r\n\r\nfunction paginaSiguiente() {\r\n  const paginaSiguiente = document.querySelector(\"#siguiente\");\r\n  paginaSiguiente.addEventListener(\"click\", function () {\r\n    if (paso >= pasoFinal) return;\r\n    paso++;\r\n    botonesPaginador();\r\n  });\r\n}\r\n\r\nasync function consultarAPI() {\r\n  try {\r\n    const url = `${location.origin}/api/servicios`;\r\n    const resultado = await fetch(url);\r\n    const servicios = await resultado.json();\r\n    mostrarServicios(servicios);\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n}\r\n\r\nfunction mostrarServicios(servicios) {\r\n  servicios.forEach((servicio) => {\r\n    const { id, nombre, precio } = servicio;\r\n\r\n    const nombreServicio = document.createElement(\"P\");\r\n    nombreServicio.classList.add(\"nombre-servicio\");\r\n    nombreServicio.textContent = nombre;\r\n\r\n    const precioServicio = document.createElement(\"P\");\r\n    precioServicio.classList.add(\"precio-servicio\");\r\n    precioServicio.textContent = `${precio}$`;\r\n\r\n    const servicioDiv = document.createElement(\"DIV\");\r\n    servicioDiv.classList.add(\"servicio\");\r\n    servicioDiv.dataset.idServicio = id;\r\n    servicioDiv.onclick = function () {\r\n      seleccionarServicio(servicio);\r\n    };\r\n\r\n    servicioDiv.appendChild(nombreServicio);\r\n    servicioDiv.appendChild(precioServicio);\r\n\r\n    document.querySelector(\"#servicios\").appendChild(servicioDiv);\r\n  });\r\n}\r\n\r\nfunction seleccionarServicio(servicio) {\r\n  const { id } = servicio;\r\n  const { servicios } = cita;\r\n\r\n  // Identificar al elemento que se le da click\r\n  const divServicio = document.querySelector(`[data-id-servicio=\"${id}\"]`);\r\n\r\n  // Comprobar si un servicio ya fue agregado\r\n  if (servicios.some((agregado) => agregado.id === id)) {\r\n    // Eliminarlo\r\n    cita.servicios = servicios.filter((agregado) => agregado.id !== id);\r\n    divServicio.classList.remove(\"seleccionado\");\r\n  } else {\r\n    // Agregarlo\r\n    cita.servicios = [...servicios, servicio];\r\n    divServicio.classList.add(\"seleccionado\");\r\n  }\r\n\r\n  // console.log(cita);\r\n}\r\n\r\nfunction idCliente() {\r\n  cita.id = document.querySelector(\"#id\").value;\r\n}\r\n\r\nfunction nombreCliente() {\r\n  const nombre = document.querySelector(\"#nombre\").value;\r\n  cita.nombre = nombre;\r\n}\r\n\r\nfunction seleccionarFecha() {\r\n  const inputFecha = document.querySelector(\"#fecha\");\r\n  inputFecha.addEventListener(\"input\", function (e) {\r\n    const dia = new Date(e.target.value).getUTCDay();\r\n\r\n    if ([6, 0].includes(dia)) {\r\n      e.target.value = \"\";\r\n      mostrarAlerta(\"Atencion de lunes a viernes\", \"error\", \".formulario\");\r\n    } else {\r\n      cita.fecha = inputFecha.value;\r\n    }\r\n  });\r\n}\r\n\r\nfunction seleccionarHora() {\r\n  const inputHora = document.querySelector(\"#hora\");\r\n  inputHora.addEventListener(\"input\", function (e) {\r\n    const horaCita = e.target.value;\r\n    const hora = horaCita.split(\":\")[0];\r\n    if (hora < 10 || hora > 18) {\r\n      mostrarAlerta(\"Hora no Valida\", \"error\", \".formulario\");\r\n      e.target.value = \"\";\r\n    } else {\r\n      cita.hora = e.target.value;\r\n      // console.log(cita);\r\n    }\r\n  });\r\n}\r\n\r\nfunction mostrarAlerta(mensaje, tipo, elemento, desaparece = true) {\r\n  // Previene que se generen más de una alerta\r\n  const alertaPrevia = document.querySelector(\".alerta\");\r\n  if (alertaPrevia) {\r\n    alertaPrevia.remove();\r\n  }\r\n\r\n  // Scripting para crear la alerta\r\n  const alerta = document.createElement(\"DIV\");\r\n  alerta.textContent = mensaje;\r\n  alerta.classList.add(\"alerta\");\r\n  alerta.classList.add(tipo);\r\n\r\n  const referencia = document.querySelector(elemento);\r\n  referencia.appendChild(alerta);\r\n\r\n  if (desaparece) {\r\n    // Eliminar la alerta\r\n    setTimeout(() => {\r\n      alerta.remove();\r\n    }, 3000);\r\n  }\r\n}\r\n\r\nfunction mostrarResumen() {\r\n  const resumen = document.querySelector(\".contenido-resumen\");\r\n\r\n  // Limpiar el contenido de Resumen\r\n  while (resumen.firstChild) {\r\n    resumen.removeChild(resumen.firstChild);\r\n  }\r\n\r\n  // Cosanostra [DC]\r\n  if (!cita.servicios.length) {\r\n    mostrarAlerta(\r\n      \"Ingrese al menos un servicio\",\r\n      \"error\",\r\n      \".contenido-resumen\",\r\n      false\r\n    );\r\n    return;\r\n  }\r\n\r\n  if (Object.values(cita).includes(\"\")) {\r\n    mostrarAlerta(\r\n      \"Faltan datos de Fecha y Hora\",\r\n      \"error\",\r\n      \".contenido-resumen\",\r\n      true\r\n    );\r\n    return;\r\n  }\r\n\r\n  // if (Object.values(cita).includes('') || cita.servicios.length === 0) {\r\n  //   mostrarAlerta('Faltan datos de Servicios, Fecha u Hora', 'error', '.contenido-resumen', false);\r\n  //   return;\r\n  // }\r\n\r\n  // Formatear el div de resumen\r\n  const { nombre, fecha, hora, servicios } = cita;\r\n\r\n  // Heading para servicios en Resumen\r\n  const headingServicios = document.createElement(\"H3\");\r\n  headingServicios.textContent = \"Resumen de Servicios\";\r\n  resumen.appendChild(headingServicios);\r\n\r\n  // Iterando y mostrando los servicios\r\n  servicios.forEach((servicio) => {\r\n    const { id, precio, nombre } = servicio;\r\n\r\n    const contenedorServicio = document.createElement(\"DIV\");\r\n    contenedorServicio.classList.add(\"contenedor-servicio\");\r\n\r\n    const textoServicio = document.createElement(\"P\");\r\n    textoServicio.textContent = nombre;\r\n\r\n    const precioServicio = document.createElement(\"P\");\r\n    precioServicio.innerHTML = `<span>Precio:</span> $${precio}`;\r\n\r\n    contenedorServicio.appendChild(textoServicio);\r\n    contenedorServicio.appendChild(precioServicio);\r\n\r\n    resumen.appendChild(contenedorServicio);\r\n  });\r\n\r\n  // Heading para cita en Resumen\r\n  const headingCita = document.createElement(\"H3\");\r\n  headingCita.textContent = \"Resumen de Cita\";\r\n  resumen.appendChild(headingCita);\r\n\r\n  const nombreCliente = document.createElement(\"P\");\r\n  nombreCliente.innerHTML = `<span>Nombre:</span> ${nombre}`;\r\n\r\n  // Formatear la fecha en español\r\n  const fechaObj = new Date(fecha);\r\n  const mes = fechaObj.getMonth();\r\n  const dia = fechaObj.getDate() + 2;\r\n  const year = fechaObj.getFullYear();\r\n\r\n  const fechaUTC = new Date(Date.UTC(year, mes, dia));\r\n\r\n  const opciones = {\r\n    weekday: \"long\",\r\n    year: \"numeric\",\r\n    month: \"long\",\r\n    day: \"numeric\",\r\n  };\r\n  const fechaFormateada = fechaUTC.toLocaleDateString(\"es-AR\", opciones);\r\n\r\n  const fechaCita = document.createElement(\"P\");\r\n  fechaCita.innerHTML = `<span>Fecha:</span> ${fechaFormateada}`;\r\n\r\n  const horaCita = document.createElement(\"P\");\r\n  horaCita.innerHTML = `<span>Hora:</span> ${hora} Horas`;\r\n\r\n  // Boton para Crear una cita\r\n  const botonReserver = document.createElement(\"BUTTON\");\r\n  botonReserver.classList.add(\"boton\");\r\n  botonReserver.textContent = \"Reservar Cita\";\r\n  botonReserver.onclick = reservarCita;\r\n\r\n  resumen.appendChild(nombreCliente);\r\n  resumen.appendChild(fechaCita);\r\n  resumen.appendChild(horaCita);\r\n\r\n  resumen.appendChild(botonReserver);\r\n}\r\n\r\nasync function reservarCita() {\r\n  const { nombre, fecha, hora, servicios, id } = cita;\r\n\r\n  const idServicios = servicios.map( servicio => servicio.id);\r\n\r\n  const datos = new FormData();\r\n  \r\n  datos.append(\"fecha\", fecha);\r\n  datos.append(\"hora\", hora);\r\n  datos.append(\"usuarioId\", id);\r\n  datos.append(\"servicios\", idServicios);\r\n\r\n  try {\r\n    // Peticion hacia la API\r\n    const url = `${location.origin}/api/servicios`;\r\n\r\n    const respuesta = await fetch(url, {\r\n      method: \"POST\",\r\n      body: datos,\r\n    });\r\n\r\n    const resultado = await respuesta.json();\r\n    console.log(resultado.resultado);\r\n\r\n    if (resultado.resultado) {\r\n      Swal.fire({\r\n        icon: \"success\",\r\n        title: \"Cita Creada\",\r\n        text: \"Tu cita fue creada correctamene\",\r\n        button: \"OK\",\r\n      }).then(() => {\r\n        setTimeout(() => {\r\n          window.location.reload();\r\n        }, 3000);\r\n      });\r\n    }\r\n  } catch (error) {\r\n    Swal.fire({\r\n      icon: \"error\",\r\n      title: \"Error\",\r\n      text: \"Hubo un error al guardar la cita\",\r\n    });\r\n  }\r\n}\r\n"]}